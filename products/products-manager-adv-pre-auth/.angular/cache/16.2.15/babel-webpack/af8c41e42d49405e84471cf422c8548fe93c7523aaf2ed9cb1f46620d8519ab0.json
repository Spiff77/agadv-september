{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../product-http.service\";\nimport * as i3 from \"../supplier-http.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction ProductAddComponent_ul_0_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1, \"Name is mandatory \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductAddComponent_ul_0_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1, \"Category is mandatory\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductAddComponent_ul_0_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1, \"Price is manfatory\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductAddComponent_ul_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, ProductAddComponent_ul_0_li_1_Template, 2, 0, \"li\", 0);\n    i0.ɵɵtemplate(2, ProductAddComponent_ul_0_li_2_Template, 2, 0, \"li\", 0);\n    i0.ɵɵtemplate(3, ProductAddComponent_ul_0_li_3_Template, 2, 0, \"li\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.form.controls[\"name\"].invalid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.form.controls[\"category\"].invalid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.form.controls[\"price\"].invalid);\n  }\n}\nfunction ProductAddComponent_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", s_r5.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(s_r5.companyName);\n  }\n}\nclass ProductAddComponent {\n  constructor(fb, productService, supplierService, route) {\n    this.fb = fb;\n    this.productService = productService;\n    this.supplierService = supplierService;\n    this.route = route;\n    this.formSubmitted = false;\n  }\n  ngOnInit() {\n    this.form = this.fb.group({\n      active: ['true'],\n      name: ['', Validators.required],\n      description: [''],\n      category: ['', Validators.required],\n      price: ['', Validators.required],\n      promo: [''],\n      supplier: this.fb.group({\n        id: 1\n      })\n    });\n    this.suppliers = this.supplierService.findAll();\n  }\n  add() {\n    this.formSubmitted = true;\n    if (this.form.valid) {\n      this.productService.add(this.form.value).subscribe(v => this.route.navigateByUrl('/products'));\n    }\n  }\n  static #_ = this.ɵfac = function ProductAddComponent_Factory(t) {\n    return new (t || ProductAddComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ProductHttpService), i0.ɵɵdirectiveInject(i3.SupplierHttpService), i0.ɵɵdirectiveInject(i4.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductAddComponent,\n    selectors: [[\"app-product-add\"]],\n    decls: 34,\n    vars: 5,\n    consts: [[4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\"], [\"for\", \"category\"], [\"type\", \"text\", \"id\", \"category\", \"formControlName\", \"category\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"formControlName\", \"description\"], [\"for\", \"price\"], [\"type\", \"text\", \"id\", \"price\", \"formControlName\", \"price\"], [\"for\", \"promo\"], [\"type\", \"text\", \"id\", \"promo\", \"formControlName\", \"promo\"], [\"for\", \"active\"], [\"type\", \"checkbox\", \"id\", \"active\", \"formControlName\", \"active\"], [\"formGroupName\", \"supplier\"], [\"for\", \"supplierid\"], [\"formControlName\", \"id\", \"id\", \"supplierid\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\"], [3, \"value\"]],\n    template: function ProductAddComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductAddComponent_ul_0_Template, 4, 3, \"ul\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function ProductAddComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.add();\n        });\n        i0.ɵɵelementStart(2, \"div\")(3, \"label\", 2);\n        i0.ɵɵtext(4, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"input\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\")(7, \"label\", 4);\n        i0.ɵɵtext(8, \"Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\")(11, \"label\", 6);\n        i0.ɵɵtext(12, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\")(15, \"label\", 8);\n        i0.ɵɵtext(16, \"Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\")(19, \"label\", 10);\n        i0.ɵɵtext(20, \"Promo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\")(23, \"label\", 12);\n        i0.ɵɵtext(24, \"Active\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 14)(27, \"label\", 15);\n        i0.ɵɵtext(28, \"Supplier\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"select\", 16);\n        i0.ɵɵtemplate(30, ProductAddComponent_option_30_Template, 2, 2, \"option\", 17);\n        i0.ɵɵpipe(31, \"async\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"button\", 18);\n        i0.ɵɵtext(33, \"add\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(29);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(31, 3, ctx.suppliers));\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i5.AsyncPipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kdWN0LWFkZC5jb21wb25lbnQuc2NzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC1hZGQvcHJvZHVjdC1hZGQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLHdLQUF3SyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { ProductAddComponent };","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","ProductAddComponent_ul_0_li_1_Template","ProductAddComponent_ul_0_li_2_Template","ProductAddComponent_ul_0_li_3_Template","ɵɵadvance","ɵɵproperty","ctx_r0","form","controls","invalid","s_r5","id","ɵɵtextInterpolate","companyName","ProductAddComponent","constructor","fb","productService","supplierService","route","formSubmitted","ngOnInit","group","active","name","required","description","category","price","promo","supplier","suppliers","findAll","add","valid","value","subscribe","v","navigateByUrl","_","ɵɵdirectiveInject","i1","FormBuilder","i2","ProductHttpService","i3","SupplierHttpService","i4","Router","_2","selectors","decls","vars","consts","template","ProductAddComponent_Template","rf","ctx","ProductAddComponent_ul_0_Template","ɵɵlistener","ProductAddComponent_Template_form_ngSubmit_1_listener","ɵɵelement","ProductAddComponent_option_30_Template","ɵɵpipeBind1"],"sources":["/Users/thomaslhomme/Documents/Workspaces/webstormworkspace/products-manager-adv/src/app/product-add/product-add.component.ts","/Users/thomaslhomme/Documents/Workspaces/webstormworkspace/products-manager-adv/src/app/product-add/product-add.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {SupplierHttpService} from '../supplier-http.service';\nimport {ProductHttpService} from '../product-http.service';\nimport {Supplier} from '../model/Supplier';\nimport {Observable} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-product-add',\n  templateUrl: './product-add.component.html',\n  styleUrls: ['./product-add.component.scss']\n})\nexport class ProductAddComponent implements OnInit {\n\n  form: FormGroup;\n  formSubmitted = false;\n\n  suppliers: Observable<Supplier[]>;\n\n  constructor(private fb: FormBuilder,\n              private productService: ProductHttpService,\n              private supplierService: SupplierHttpService,\n              private route: Router) { }\n\n  ngOnInit(): void {\n    this.form = this.fb.group({\n      active: ['true', ],\n      name: ['', Validators.required],\n      description: [''],\n      category: ['', Validators.required ],\n      price: ['', Validators.required],\n      promo: [''],\n      supplier: this.fb.group(\n        {id: 1}\n      )\n    });\n    this.suppliers = this.supplierService.findAll();\n  }\n\n  add(): void {\n    this.formSubmitted = true;\n    if (this.form.valid) {\n      this.productService.add(this.form.value).subscribe(v => this.route.navigateByUrl('/products'));\n    }\n  }\n}\n","<ul *ngIf=\"formSubmitted\">\n  <li *ngIf=\"this.form.controls['name'].invalid\">Name is mandatory </li>\n  <li *ngIf=\"this.form.controls['category'].invalid\">Category is mandatory</li>\n  <li *ngIf=\"this.form.controls['price'].invalid\">Price is manfatory</li>\n</ul>\n\n<form [formGroup]=\"form\" (ngSubmit)=\"add()\">\n  <div>\n    <label for=\"name\">Name</label>\n    <input type=\"text\" id=\"name\" formControlName=\"name\">\n  </div>\n  <div>\n    <label for=\"category\">Category</label>\n    <input type=\"text\" id=\"category\" formControlName=\"category\">\n  </div>\n  <div>\n    <label for=\"description\">Description</label>\n    <input type=\"text\" id=\"description\" formControlName=\"description\">\n  </div>\n  <div>\n    <label for=\"price\">Price</label>\n    <input type=\"text\" id=\"price\" formControlName=\"price\">\n  </div>\n  <div>\n    <label for=\"promo\">Promo</label>\n    <input type=\"text\" id=\"promo\" formControlName=\"promo\">\n  </div>\n  <div>\n    <label for=\"active\">Active</label>\n    <input type=\"checkbox\" id=\"active\" formControlName=\"active\">\n  </div>\n\n  <div formGroupName=\"supplier\">\n    <label for=\"supplierid\">Supplier</label>\n    <select formControlName=\"id\" id=\"supplierid\">\n      <option [value]=\"s.id\" *ngFor=\"let s of suppliers | async\">{{s.companyName}}</option>\n    </select>\n  </div>\n\n  <button type=\"submit\">add</button>\n</form>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}